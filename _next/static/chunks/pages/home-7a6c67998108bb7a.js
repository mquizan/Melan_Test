(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{43089:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return n(17263)}])},88578:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(11527),i=n(50959),o=n(23908),a=n(48648),l=n(13659),s=n(77310),c=n(92128),u=n.n(c),d=n(81452),v=n(50832),f=n(26555),p=n(29969),h=n(67729),m=n(35613),x=n(70534),_=n(60950);function y(){var e=function(){var e=(0,l.v9)((function(e){return e.lat})),t=(0,l.v9)((function(e){return e.lon})),n=(0,l.v9)((function(e){return e.selectedBranchId})),r=(0,l.v9)((function(e){return e.selectedDeliveryType}),l.wU),i=function(){var i=[{field:"delivery_type",value:r,condition_type:"eq"}];return t&&e&&i.push({field:"points",value:"".concat(t,",").concat(e)}),"door_delivery"!==r&&n&&i.push({field:"branch.entity_id",value:n,condition_type:"eq"}),i};return(0,x.a)(["brand",{selectedBranchId:n,selectedDeliveryType:r,lat:e,lon:t}],(function(){return(0,_.Zf)({limit:"100",filterBy:i()})}),{staleTime:6e6})}(),t=(0,i.useState)([]),n=t[0],r=t[1];return(0,i.useEffect)((function(){var t,n;(null===(t=e.data)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.length)>0&&r(e)}),[null===e||void 0===e?void 0:e.data]),n}var b=n(65298);function g(){var e=(0,l.v9)((function(e){return e.lat})),t=(0,l.v9)((function(e){return e.lon})),n=(0,l.v9)((function(e){var t;return e.selectedBranchId||(null===(t=e.tempBranch)||void 0===t?void 0:t.id)})),r=(0,l.v9)((function(e){return e.selectedDeliveryType}),l.wU);return(0,x.a)(["best-selling-dishes",{selectedBranchId:n,selectedDeliveryType:r,lat:e,lon:t,type:"multilevel"}],(function(){return(0,b.p)(function(){var i=[{field:"delivery_type",value:r,condition_type:"eq"},{field:"exclude.products",value:"1"},{field:"type",value:"multilevel"}];return t&&e&&i.push({field:"points",value:"".concat(t,",").concat(e)}),"door_delivery"!==r&&n&&i.push({field:"branch.entity_id",value:n,condition_type:"eq"}),i}())}),{staleTime:6e6})}var j=n(93712);var w=u()((function(){return n.e(1149).then(n.bind(n,61149))}),{loadableGenerated:{webpack:function(){return[61149]}},ssr:!1}),N=function(e){var t,n,c,u=e.homeCmsData,_=(0,i.useState)(!1),N=_[0],Z=_[1],C=(0,l.v9)((function(e){return e.isUserLoggedIn})),k=((0,l.v9)((function(e){return e.selectedAddress}),l.wU),(0,l.v9)((function(e){return e.selectedStore.language}))),S=((0,l.v9)((function(e){return e.selectedDeliveryType}),l.wU),(0,s.Z)()),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.v9)((function(e){return e.tempBranch})),n=(0,l.v9)((function(e){return e.selectedBranchId||(null===t||void 0===t?void 0:t.id)})),r=(0,l.v9)((function(e){return e.lat})),i=(0,l.v9)((function(e){return e.lon})),o=(0,l.v9)((function(e){return e.selectedDeliveryType}));return(0,x.a)(["category",{branchId:n,selectedDeliveryType:o,lat:r,lon:i}],(function(){var e=[{field:"exclude.products",value:"1"}];return i&&r&&e.push({field:"points",value:"".concat(i,",").concat(r)}),n&&e.push({field:"branch.entity_id",value:n,condition_type:"eq"}),e.push({field:"delivery_type",value:o,condition_type:"eq"}),(0,b.p)(e)}),(0,j.Z)({staleTime:6e5},e))}(),D=T.data,E=void 0===D?[]:D,B=y().data,q=void 0===B?[]:B,I=g().data,L=void 0===I?[]:I,M=((null===(t=u.content)||void 0===t?void 0:t.filter((function(e){var t;return!!(null===(t=e.columns[0])||void 0===t?void 0:t[0])})).map((function(e){return e.columns[0].map((function(e){return e}))})))||[]).reduce((function(e,t){return t.map((function(t){return e.push(t)})),e}),[]),F=[],P=[],A=[],U=[];return M.forEach((function(e,t){var n=e.component,i=e.data;switch(n){case"banner":P.push((0,r.jsx)(o.Z,{items:null===i||void 0===i?void 0:i.items,currentLang:k},"hero-banner-".concat(t)));break;case"vertical-offerings":F.push((0,r.jsx)(a.Z,{items:E,setAllMenuVisible:Z,clickBehavior:"redirect"},"vertical-".concat(t)));break;case"active-orders":C&&F.push((0,r.jsx)(w,{},"active-orders-".concat(t)));break;case"best-selling-component":A.push((0,r.jsx)(h.Z,{data:L},0));break;case"featured-brands":U.push((0,r.jsx)(f.Z,{brands:null===q||void 0===q?void 0:q.items},0))}})),(0,r.jsxs)(r.Fragment,{children:[S&&(0,r.jsx)(d.Z,{}),P,(0,r.jsx)(p.Z,{}),null===F||void 0===F?void 0:F.reverse(),U,A,(0,r.jsx)(v.Z,{}),(0,r.jsx)(m.Z,{categories:null===(n=F[0])||void 0===n||null===(c=n.props)||void 0===c?void 0:c.items,setAllMenuVisible:Z,clickBehavior:"redirect",allMenuVisible:N})]})}},90089:function(e,t,n){"use strict";var r=n(11527),i=n(50959),o=n(16638),a=n(45924),l=n(37991),s=n.n(l),c=n(99895);t.Z=function(e){var t=e.handleScanModalStatus,n=(0,o.useTranslation)().t,l=(0,i.useState)(!0),u=l[0],d=l[1],v=(0,i.useState)(!1),f=v[0],p=v[1],h=(0,c.Z)().data;(0,i.useEffect)((function(){(null===h||void 0===h?void 0:h.length)>0&&(p(h.some((function(e){return e.deliveryZones.find((function(e){return"door_delivery"===e.delivery_type_id}))}))),d(!1))}),[h]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"bg-black bg-opacity-80 flex items-end lg:items-center justify-center fixed top-0 left-0 bottom-0 right-0 w-full min-h-screen overflow-hidden backdrop-filter-[blur(0.8px)] z-[110]",children:(0,r.jsxs)("div",{className:"".concat(s().inner," z-[111] w-full relative h-auto overflow-x-hidden overflow-y-auto rounded-[20px 20px 0 0] px-8 py-16 flex\n          flex-col items-center lg:max-w-[804px] lg:h-auto lg:rounded-[13px]"),children:[(0,r.jsx)("div",{className:"text-xl font-medium",children:n("scan_hotel_code_title")}),(0,r.jsxs)("div",{className:"flex flex-col mt-12 lg:flex-row lg:items-center",children:[(0,r.jsxs)("div",{className:"".concat(s().meta," flex flex-col items-center justify-center w-full max-w-[280px] min-w-[280px]"),children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-no-repeat bg-contain bg-center bg-[url('/assets/img/qr/icon_in_hotel.svg')]"}),(0,r.jsx)("div",{className:"mx-0 my-6 text-xl font-medium",children:n("scan_hotel_in_hotel")}),(0,r.jsx)("div",{className:"h-[49px] flex items-center justify-center text-center text-sm",children:n("scan_hotel_code_description")})]}),f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"".concat(s().divider," relative mx-0 my-12 opacity-50 lg:mx-12 lg:my-0 h-[161px]"),children:(0,r.jsx)("span",{children:n("scan_hotel_or")})}),(0,r.jsxs)("div",{className:"".concat(s().meta," flex flex-col items-center justify-center w-full max-w-[280px] min-w-[280px]"),children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-no-repeat bg-contain bg-center bg-[url('/assets/img/qr/icon_door_delivery.svg')]"}),(0,r.jsx)("div",{className:"mx-0 my-6 text-xl font-medium",children:n("scan_hotel_not_in_hotel")}),(0,r.jsx)("button",{onClick:function(){t(),o.Router.push("/dt/[deliveryType]?deliveryType=door_delivery","/dt/door_delivery")},className:(0,a.Z)("btn btn-primary","h-[49px] flex items-center justify-center text-center rounded-[10px] px-8 py-4 text-sm uppercase"),children:n("scan_hotel_use_door_delivery")})]})]})]}),u&&(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-[rgba(0, 0, 0, 0.25)] flex flex-col items-center justify-center",children:(0,r.jsx)("div",{className:"loading w-10 h-10"})})]})})})}},17263:function(e,t,n){"use strict";n.r(t);var r=n(29452),i=n(93712),o=n(56262),a=n(79365),l=n.n(a),s=n(11527),c=n(86829),u=n(50959),d=n(66535),v=n(32617),f=n(70588),p=n(19890),h=n.n(p),m=n(19861),x=n(90089),_=n(88578),y=n(81202),b=c.storeConfigs,g=c.initialDeliveryType,j=c.isSinglebrandMode,w=function(e){var t=e.homeCmsData,n=(0,o.Z)((0,y.Z)("scanModalStatus",!0),2),r=n[0],i=n[1],a=(0,f.Z)().setFixedDeliveryType,l=(0,u.useState)(!1)[1];(0,u.useEffect)((function(){l(r)}),[r]),(0,u.useEffect)((function(){a(null)}),[]);return j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{homeCmsData:t}),"hotel_in_dining"===g&&r&&(0,s.jsx)(x.Z,{handleScanModalStatus:function(){i(!1)}})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(_.Z,{homeCmsData:t})})};w.getInitialProps=function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,o,a,s,c,u,f,p,m,x;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.res,r=t.state,o=t.query,a=t.dispatch,s=t.asPath,c=t.req,(u=r.selectedStore)&&o&&void 0===o.url_prefix&&s.includes(u.url_prefix)&&(o.subpath&&(f=o.subpath,p=b.find((function(e){return e.url_prefix.split("/")[0]===f})).code,(c={}).selectedStoreCode=p),a({type:"SET_SELECTED_SINGLE_BRAND",payload:{}})),!o.deeplink){e.next=6;break}return e.abrupt("return",(0,v.L9)(c,n,"home",{name:"tab"}));case 6:return m={homeCmsData:{content:[]},layoutOptions:{headerConfig:{showLocation:!0,showDrawer:!0,showAuth:!0,showSearch:!0},seoConfig:{title:"seo_title_home"},wrapperClassName:h().container,mainBlockClassName:h().mainContainer}},e.prev=7,e.next=10,(0,d.r)({id:"home",extend:!0},c);case 10:(null===(x=e.sent.data)||void 0===x?void 0:x.title)&&(m.layoutOptions.seoConfig.title=x.title),m.homeCmsData=(0,i.Z)({},x),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:return e.abrupt("return",m);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}(),t.default=w},37991:function(e){e.exports={inner:"ScanQr_inner__NGa9V",divider:"ScanQr_divider__o7mHk"}},19890:function(e){e.exports={fixed:"home_fixed__FPL_N",mainContainer:"home_mainContainer__e4Fml",tabsContainer:"home_tabsContainer__jOB31",tabList:"home_tabList__4_boM",loadingWrapper:"home_loadingWrapper__CMAyi",noProducts:"home_noProducts__U7J_h",spacer:"home_spacer__cI_7K"}}},function(e){e.O(0,[4369,7299,2238,545,1647,9774,2888,179],(function(){return t=43089,e(e.s=t);var t}));var t=e.O();_N_E=t}]);